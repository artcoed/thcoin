# Telegram Bot WebApp

Веб-приложение для Telegram бота с интеграцией через tRPC API.

## Настройка

### 1. Переменные окружения

Создайте файл `.env` в корне проекта:

```env
# API URL для подключения к бекенду
VITE_API_URL=http://localhost:3000

# ID бота (по умолчанию 1)
VITE_BOT_ID=1
```

### 2. Установка зависимостей

```bash
npm install
```

### 3. Дополнительные зависимости для локализации

```bash
npm install @fluent/bundle
```

### 4. Запуск бекенда

Убедитесь, что бекенд запущен на порту 3000 (или измените VITE_API_URL).

### 5. Запуск фронтенда

```bash
npm run dev
```

## Архитектура

### Redux Store

- **userSlice** - управление пользователем (регистрация, данные)
- **gameSlice** - игровая логика (трейдинг, рулетка)
- **configSlice** - конфигурация (настройки игр, бонусы)

### API Integration

- **HTTP клиент** - использует `ky` для запросов к tRPC API
- **React Query** - кеширование и управление состоянием запросов
- **Redux Toolkit** - управление глобальным состоянием

### Компоненты

- **RouletteRegistrationBlock** - регистрация пользователя
- **MainPage** - главная страница с балансом и навигацией
- **Futures** - трейдинг
- **RouletteWindow** - рулетка
- **Bonuses** - бонусы
- **Manager** - контакт менеджера
- **History** - история транзакций
- **Navbar** - навигация с выводом средств

## Интеграция с Telegram

Приложение готово к интеграции с Telegram WebApp. Для полной интеграции нужно:

1. Добавить Telegram авторизацию
2. Получать telegramId из Telegram
3. Настроить WebApp.initData

## Функциональность

- ✅ Регистрация пользователя
- ✅ Главная страница с балансом
- ✅ Навигация между компонентами
- ✅ Вывод средств через модалку
- ✅ Интеграция с API через Redux
- ✅ Кеширование запросов
- ✅ Обработка ошибок
- ✅ Загрузка конфигураций
- ✅ Локализация (русский/английский)
- ✅ Модалки результатов для игр
- ✅ Полная интеграция с Telegram WebApp
- ✅ Трейдинг с валидацией и лимитами
- ✅ Рулетка с анимацией и результатами

## Следующие шаги

1. ✅ Интегрировать с реальным Telegram ботом
2. ✅ Добавить tRPC типы из бекенда
3. ✅ Настроить локализацию
4. Добавить анимации и улучшить UI
5. Настроить WebSocket для real-time обновлений
6. Добавить больше игр и функций 